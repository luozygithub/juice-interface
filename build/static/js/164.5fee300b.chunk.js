(this["webpackJsonp@jbox/app"]=this["webpackJsonp@jbox/app"]||[]).push([[164],{2846:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return E}));var n=a(83),i=a(534),o=a(618),r=a(617),c=a(152),d=a(125),l=a(395),u=a(212),j=a(146),s=a(273),b=a(324),p=a(1174);var v=a(1699),O=a(1330),m=a(16),g=a(0),f=a(1481);var I=a(1480);var y=a(1697),h=a(1356),x=a(1698),S=a(1702),L=a(86);var C=a(1701),k=a(1705),N=a(325),T=a(92),B=a(358),P=a(464),J=a(389),w=a(226),A=a(1977),D=a(1);function H({projectId:t}){var e,a,H,M,E;const{data:q,loading:G}=function(t){return Object(p.a)({contract:b.a.JBProjects,functionName:"metadataContentOf",args:t?[t,I.a]:null})}(t),{data:R,error:F,isLoading:U}=Object(u.a)(q);Object(l.a)({title:null!==R&&void 0!==R&&R.name?`${R.name} | Juicebox`:void 0});const{data:V}=Object(j.d)({projectId:t,keys:["createdAt","totalPaid"],cv:["2"]}),W=null===(e=Object(N.first)(V))||void 0===e?void 0:e.createdAt,$=null===(a=Object(N.first)(V))||void 0===a?void 0:a.totalPaid,{data:z,loading:K}=Object(v.a)({projectId:t}),[Q,X]=null!==z&&void 0!==z?z:[],{data:Y}=Object(h.a)({projectId:t,splitGroup:P.a,domain:null===Q||void 0===Q||null===(H=Q.configuration)||void 0===H?void 0:H.toString()}),{data:Z}=Object(x.a)({projectId:t}),_=Object(T.h)(),tt=new URLSearchParams(_.search),et=Boolean(tt.get("newDeploy")),at=null===Z||void 0===Z?void 0:Z[0],{data:nt,loading:it}=Object(O.a)({projectId:t,configuration:null===Q||void 0===Q||null===(M=Q.configuration)||void 0===M?void 0:M.toString(),terminal:at}),{data:ot,loading:rt}=Object(k.a)({projectId:t,terminal:at,fundingCycleNumber:null===Q||void 0===Q?void 0:Q.number}),[ct,dt]=null!==nt&&void 0!==nt?nt:[],{data:lt}=Object(h.a)({projectId:t,splitGroup:P.b,domain:null===Q||void 0===Q||null===(E=Q.configuration)||void 0===E?void 0:E.toString()}),{data:ut,loading:jt}=function({projectId:t,terminal:e}){return Object(p.a)({contract:b.a.JBSingleTokenPaymentTerminalStore,functionName:"balanceOf",args:e&&t?[e,t]:null})}({terminal:at,projectId:t}),{data:st}=Object(S.a)({projectId:t}),{data:bt}=function({projectId:t}){return Object(p.a)({contract:b.a.JBProjectHandles,functionName:"handleOf",args:t?[t]:null,updateOn:Object(g.useMemo)((()=>t?[{contract:b.a.JBProjectHandles,eventName:"SetEnsNameParts",topics:[m.a.from(t).toHexString()]},{contract:b.a.PublicResolver,eventName:"TextChanged",topics:[[],f.a]}]:void 0),[t])})}({projectId:t}),pt=Object(s.a)(st),{data:vt}=Object(C.a)({projectId:t,terminal:at}),Ot=Object(d.a)(),{data:mt,loading:gt}=Object(g.useMemo)((()=>jt?{loading:!0}:null!==dt&&void 0!==dt&&dt.eq(B.c)||null!==dt&&void 0!==dt&&dt.eq(B.a)?{data:ut,loading:!1}:{data:Ot.wadToCurrency(ut,Object(B.b)(null===dt||void 0===dt?void 0:dt.toNumber()),Object(B.b)(B.c)),loading:!1}),[ut,jt,Ot,dt]),{data:ft}=Object(y.a)(t),{data:It}=function(t){return Object(p.a)({contract:b.a.JBTokenStore,functionName:"totalSupplyOf",args:t?[m.a.from(t).toHexString()]:null,valueDidChange:L.b})}(t),{data:yt}=function(t){return Object(p.a)({contract:b.a.JBFundingCycleStore,functionName:"currentBallotStateOf",args:t?[t]:null})}(t),ht=!!t&&(J.a.includes(t)||(null===R||void 0===R?void 0:R.archived));if(U||G)return Object(D.jsx)(n.a,{});if(et&&!q)return Object(D.jsx)(o.a,{handleOrId:t});if(F||!q)return Object(D.jsx)(i.a,{projectId:t});const xt={cv:"2",handle:bt,projectId:t,createdAt:W,projectMetadata:R,fundingCycle:Q,fundingCycleMetadata:X,distributionLimit:ct,usedDistributionLimit:ot,payoutSplits:Y,reservedTokensSplits:lt,tokenAddress:st,terminals:Z,primaryTerminal:at,ETHBalance:ut,totalVolume:$,distributionLimitCurrency:dt,balanceInDistributionLimitCurrency:mt,tokenSymbol:pt,projectOwnerAddress:ft,primaryTerminalCurrentOverflow:vt,totalTokenSupply:It,ballotState:yt,isArchived:ht,loading:{ETHBalanceLoading:jt,balanceInDistributionLimitCurrencyLoading:gt,distributionLimitLoading:it,fundingCycleLoading:K,usedDistributionLimitLoading:rt}};return Object(D.jsx)(c.a.Provider,{value:xt,children:Object(D.jsxs)("div",{style:w.a.maxWidth,children:[Object(D.jsx)(A.a,{}),Object(D.jsx)("div",{style:{textAlign:"center",marginTop:"3rem"},children:Object(D.jsx)(r.a,{})})]})})}var M=a(122);function E(){const{handle:t,projectId:e}=Object(T.i)(),a=e&&!isNaN(parseInt(e))?parseInt(e):void 0,{isLoading:o,data:r}=Object(M.a)(t&&!a?{entity:"project",keys:["projectId"],where:[{key:"cv",value:"2"},{key:"handle",value:t}]}:null);return a?Object(D.jsx)(H,{projectId:a}):o?Object(D.jsx)(n.a,{}):null!==r&&void 0!==r&&r.length?Object(D.jsx)(H,{projectId:r[0].projectId}):t?Object(D.jsx)(i.a,{handle:t}):Object(D.jsx)(i.a,{projectId:a})}}}]);
//# sourceMappingURL=164.5fee300b.chunk.js.map